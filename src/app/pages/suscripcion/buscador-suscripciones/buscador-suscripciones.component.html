<div class="container fix">
  <h5 class="mb-4">Buscador Suscripciones</h5>
  <form [formGroup]="formulario">
    <div class="row">

      <div class="mb-3 col-12 col-sm-4">
        <label for="correo" class="form-label">Correo</label>
        <input type="text" class="form-control" id="correo" formControlName="correo" />
      </div>
      <div class="mb-3 col-12 col-sm-4">
        <label for="inputCuenta" class="form-label">Cuenta</label>
        <select id="inputCuenta" class="form-select" formControlName="cuenta">
          <option selected value="">Seleccione una cuenta</option>
          <option *ngFor="let cuenta of cuentas" [value]="cuenta.id">
            {{ cuenta.nombre}}
          </option>
        </select>
      </div>
      <div class="boton col-12 col-sm-4">
        <button type="submit" class="btn btn-primary" (click)="buscar()" [disabled]="!(formulario.value.correo  || formulario.value.cuenta) ">
          Buscar
          <span class="spinner-border spinner-border-sm ms-1" *ngIf="buscando"></span>
        </button>
      </div>

      <div class="col-sm-12 col-12" *ngIf="encontrado">
        <div class="table-responsive">
          <table class="table table-dark table-hover">
            <thead>
              <tr>
                <th scope="col">Cliente</th>
                <th scope="col">Cuenta</th>
                <th scope="col">Correo</th>
                <th scope="col">Contrase√±a</th>
                <th scope="col">Perfil</th>
                <th scope="col">Pin</th>
                <th scope="col">Proveedor</th>
                <th scope="col">Fecha Inicial</th>
                <th scope="col">Fecha Final</th>
                <th scope="col">Estado</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let suscripcion of suscripciones">
                <th scope="row">{{ suscripcion.cliente.nombre }} {{suscripcion.cliente.apellido}}</th>
                <td>{{ suscripcion.cuenta.nombre }}</td>
                <td>{{ suscripcion.correo }}</td>
                <td>{{ suscripcion.password }}</td>
                <td>{{ suscripcion.perfil }}</td>
                <td>{{ suscripcion.pin }}</td>
                <td>{{ suscripcion.proveedor }}</td>
                <td>{{ suscripcion.fechaInicio | date }}</td>
                <td>{{ suscripcion.fechaFinal | date }}</td>
                <td *ngIf="suscripcion.estado">
                  <a class="ms-2"><img width="30px" src="assets/activo.png" alt="" />
                  </a>
                </td>
                <td *ngIf="!suscripcion.estado">
                  <a class="ms-2"><img width="30px" src="assets/inactivo1.png" alt="" />
                  </a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </form>
</div>
